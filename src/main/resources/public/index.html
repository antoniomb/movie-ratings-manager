<!doctype html>
<html ng-app="app">
<head>
    <title>Movie ratings manager</title>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-touch.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.8/angular-animate.js"></script>
	<script src="lib/angular-datepicker.js"></script>
    <link rel="stylesheet" href="lib/foundation.css" type="text/css">
	<link rel="stylesheet" href="lib/angular-datepicker.css" type="text/css">
    <link rel="stylesheet" href="main.css" type="text/css">
    <link rel="shortcut icon" type="image/png" href="favicon.ico"/>
    <meta charset='utf-8'>
</head>
<body>
    <div ng-controller="AppController">
        <div class="row">
            <h1>Movie ratings manager</h1>
        </div>
        <form name="migrationInfo" ng-submit="migrate(migration)">
            <div class="row">
	            <div class="small-10 small-centered columns content">
					<div class="small-10 small-centered columns section-box">
						<h2>Source data</h2>
						<p class="target">Login data of source account</p>
						<ul class="button-group round toggle" data-toggle="buttons-radio" ng-init="migration.from=filmaffinity" >
							<li>
								<input type="radio" id="fromFilmaffinity" name="from-group" data-toggle="button"
									   ng-model="migration.from" value="filmaffinity" checked="checked">
								<label class="button" for="fromFilmaffinity">Filmaffinity</label>
							</li>
							<li>
								<input type="radio" id="fromIMDB" name="from-group" data-toggle="button"
									   ng-model="migration.from" value="imdb">
								<label class="button disabled" for="fromIMDB">IMDB</label>
							</li>
							<li>
								<input type="radio" id="fromLetsCine" name="from-group" data-toggle="button"
									   ng-model="migration.from" value="letscine">
								<label class="button disabled" for="fromLetsCine">LetsCine</label>
							</li>
						</ul>
						<div class="small-12 large-6 columns">
							<span>Username:</span>
						</div>
						<input class="large-6" type="text" name="fromUsername" ng-model="migration.fromUsername" required>
						<div class="small-12 large-6 columns">
							<span>Password:</span>
						</div>
						<input class="large-6" type="password" name="fromPassword" ng-model="migration.fromPassword" required>

						<h2>Action</h2>
						<p class="target">Action to execute</p>
						<ul class="button-group round toggle" data-toggle="buttons-radio" ng-init="migration.to=csv">
							<li>
								<input type="radio" id="toCSV" name="to-group" data-toggle="button"
									   ng-model="migration.to" value="csv" checked>
								<label class="button" for="toCSV">Download CSV</label>
							</li>
							<li>
								<input type="radio" id="toAnalysis" name="to-group" data-toggle="button"
									   ng-model="migration.to" value="analysis">
								<label class="button" for="toAnalysis">Analyze</label>
							</li>
							<li>
								<input type="radio" id="toLetsCine" name="to-group" data-toggle="button"
									   ng-model="migration.to" value="letscine">
								<label class="button" for="toLetsCine">Migrate to LetsCine</label>
							</li>

							<!--<li>
								<input type="radio" id="toFilmaffinity" name="to-group" data-toggle="button"
									   ng-model="migration.to" value="filmaffinity">
								<label class="button disabled" for="toFilmaffinity">Filmaffinity</label>
							</li>
							<li>
								<input type="radio" id="toIMDB" name="to-group" data-toggle="button"
									   ng-model="migration.to" value="imdb">
								<label class="button disabled" for="toIMDB">IMDB</label>
							</li>-->
						</ul>

						<!-- letsCine login-cookie -->
						<div class="row small-12 large-6" ng-show="migration.to == 'letscine'">
							<div class="small-12 large-6 columns">
								<span>Elgg cookie:</span>
							</div>
							<input class="large-6 columns" type="text" name="toUsername" ng-model="migration.toUsername">
						</div>
						<!--<div class="small-12 large-6 columns">
							<span>Username:</span>
						<input class="large-6 columns" type="text" name="username" ng-model="migration.toUsername"><br>
							<div class="small-12 large-6 columns">
							<span>Password:</span>
						<input class="large-6 columns" type="password" name="password" ng-model="migration.toPassword">
						</div>-->

						<h2>Date rating range</h2>
						<p class="target">Optional date rating ranged execution</p>
						<div class="row small-12 large-6">
							<div class="small-12 large-6 columns">
								<datepicker date-format="yyyy-MM-dd" >
									<input ng-model="migration.fromDate" type="text" id="from-date" placeholder="From">
								</datepicker>
							</div>
							<div class="small-12 large-6 columns">
								<datepicker date-format="yyyy-MM-dd" >
									<input ng-model="migration.toDate" type="text" id="to-date" placeholder="To">
								</datepicker>
							</div>
						</div>
					</div>
				</div>
            </div>

            <div class="row">
				<div id="run-block" class="small-10 small-centered columns">
					<div id="migration-result" class="left small-7 alert-box" ng-show="result">
						<span>{{result}}</span>
					</div>
					<div class="right small-4">
                		<button class="big button" type="submit">Run!</button>
					</div>
				</div>
            </div>

			<div id="analysis-result" class="row ng-hide">
				<div class="small-10 small-centered columns alert-box info">
					<span><b>Top Directors:</b> {{topDirector}}</span>
				</div>
				<div class="small-10 small-centered columns alert-box info">
					<span><b>Top Actors:</b> {{topActor}}</span>
				</div>
				<div class="small-10 small-centered columns alert-box info">
					<span><b>Top Countries:</b> {{topCountry}}</span>
				</div>
				<div class="small-10 small-centered columns alert-box info">
					<span><b>Top Years:</b> {{topYear}}</span>
				</div>
				<div class="small-10 small-centered columns alert-box info">
					<span><b>Best Movies (10):</b> {{bestMovies}}</span>
				</div>
				<div class="small-10 small-centered columns alert-box info">
					<span><b>Worst Movies (1):</b> {{worstMovies}}</span>
				</div>
				<div class="small-10 small-centered columns alert-box info">
					<span><b>Nicolas Cage Movies:</b> {{topJoke}}</span>
				</div>
			</div>
        </form>

    </div>

    <script src="app.js"></script>
</body>
</html>